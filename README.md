我最后实际使用在2k板子上的是mysql数据库，最早是sqlite但是后面更换了，所有代码已经在github上面开源了。

浅谈谈各种技术吧，可以看到我的.pro文件中＋了一些东西，比如要使用串口发送接收数据，一定要 qt +=serialport。

下面的部分讲讲mqtt库的编译，或许后来者可以用到
这里mqtt安装在龙芯2k的实际版本是5.15.2（可以通过命令查看版本），在编译mqtt库的时候去github上面找对应的分支，这里我给个官方库的链接，需要科学上网！https://github.com/qt/qtmqtt
将这些下载下来放到2k里面。由于安装的原因，貌似不能直接找到qt各个文件夹，不过有问题就一步步来，我们使用终端直接看到对应的qt的文件夹，然后找到其中的include，在桌面上创建一个QtMqtt文件夹（注意命名格式）这一部分可以参考一个视频，教的是在linux环境下的编译，链接如下：https://www.bilibili.com/video/BV1Fs421g71x/?spm_id_from=333.788.top_right_bar_window_custom_collection.content.click      不同的部分是我们需要找到那个文件夹，然后使用root权限将创建好的文件夹复制进去，然后点开那个官网的文件夹的.pro文件点击构建，构建了之后桌面上会出现一个新的文件夹，我们在需要的项目中新建两个文件夹lib和include，把对应的部分复制进去，然后在项目里面点击添加外部库，在include还是lib里面找到那个.so文件即可，这样mqtt协议就可以使用了。

由于使用了可移动的设备，我们不想拖一个长网线，使用了网卡（自带的），当然需要驱动（不然无法识别）和天线（提供信号），具体的可以参考某CSDN博客，包括2K缺失的内核和换源都有提及。网卡加了之后开机变慢了，连接的时候注意一下，第一次最好直接用你的热点，千万别连上校园网了。在安装源方面使用官网源即可，不要想着碰什么清华源，反正我水平不够，没成功。具体的文章链接如下：https://blog.csdn.net/wadaxiyang/article/details/131146411


和linux中一样，大部分指令是通的，有一点要提醒，真实使用的时候最好都加上一个sudo，我也不理解为什么ifconfig也要权限哈哈哈哈。
在虚拟机中的qt文件移植过来的时候，最好不要拖到windows下面，因为2k的时区和我们的时区不同，就会出现一种来自未来的文件的编译错误，虽说能解决，我们让虚拟机和2k时区一样，这样不就省了很多事情嘛。

串口的使用在另一篇文档中有提及，这里不在赘述。
阿里云中mqtt，这部分花了我一天半找资料，消化，简单应用。如果单片机要上云使用esp8266WiFi模块，1C上云或其它板子都行。Qt端则要写好配置，我封装在一个mqtt_config函数中了（其它的诸如mysql、串口配置亦是如此）

微信小程序中在全局里面配置好了mqtt连接，然后接入了百度AI的语音API，可以参考我代码加功能，注册的时候申请免费的就可以了，配置一个月过期（一共能用5w条语音，够了）

下面来说说阿里云mqtt协议的使用吧，首先得创建产品和设备嘛，这些根据说明文档一步步来就好了，他们写的很清楚的。然后是云消息的流转，一开始我也有个误区，关于不同设备之间消息的传输，我以为会自动给过去，发现没有（其实是没有创建规则啦），具体的方法，有一篇文章写的很好，把注意事项和坑都说了，我再强调一下吧，每个产品用到的就俩topic，要发信息就是/xxx/xxx/publish，接受则是/xxx/xxx/get。，具体的看看别人的链接吧：https://blog.csdn.net/xdedmi_/article/details/136056235
美化的图标推荐阿里巴巴的图标库，网上一找就有了，好用，免费。
说明一下代码吧，单片机的运用还是诸君自己根据实际来，qt的代码是3.7文件夹下的东西（这个命名哈哈哈哈），然后小程序的简单代码是weed.pro。可以做个参考。

简单说明一下这个激光除草的功能吧，就说最终版的，取消了单片机1C102的上云，云端的消息都是通过QT和小程序来的，单片机则是接受2K主板的串口发送的信息。Yolo识别使用的k210相机模块硬件，可以根据例程改（当然它只有识别框的显示那种，要集成串口发数据得自己写）视觉识别的结果通过串口发送给2k，在qt端接收并通过算法处理数据，处理之后的数据再通过串口发送给1C单片机，通过这个信息来处理操作，激光的打开啊，舵机的摆动，设备的启停等等。


1C控制舵机，发送pwm波信号，控制底盘（发01信号）这部分我研究不多，不多写了。

特别鸣谢：感谢陪我做出了这个作品的超级帅，人超好的学长。
感谢提供技术等方面大力支持的老师，以及一路上知道我困难之后关心我的朋友。
